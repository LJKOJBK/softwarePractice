{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\Model/assets\\Script\\Model\\CellModel.js"],"names":["CellModel","type","status","CELL_STATUS","COMMON","x","y","startX","startY","cmd","isDeath","objecCount","Math","floor","random","CELL_TYPE","EMPTY","pos","srcPos","cc","v2","push","action","keepTime","ANITIME","TOUCH_MOVE","playTime","DIE","DIE_SHAKE","isVisible","G"],"mappings":";;;;;;;;;;;;;AAAA;;;;IACqBA;AACjB,yBAAc;AAAA;;AACV,aAAKC,IAAL,GAAY,IAAZ;AACA,aAAKC,MAAL,GAAcC,wBAAYC,MAA1B;AACA,aAAKC,CAAL,GAAS,CAAT;AACA,aAAKC,CAAL,GAAS,CAAT;AACA,aAAKC,MAAL,GAAc,CAAd;AACA,aAAKC,MAAL,GAAc,CAAd;AACA,aAAKC,GAAL,GAAW,EAAX;AACA,aAAKC,OAAL,GAAe,KAAf;AACA,aAAKC,UAAL,GAAkBC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,IAA3B,CAAlB;AACH;;;;6BAEIb,MAAM;AACP,iBAAKA,IAAL,GAAYA,IAAZ;AACH;;;kCAES;AACN,mBAAO,KAAKA,IAAL,IAAac,sBAAUC,KAA9B;AACH;;;mCAEU;AACP,iBAAKf,IAAL,GAAYc,sBAAUC,KAAtB;AACH;;;8BACKX,GAAGC,GAAG;AACR,iBAAKD,CAAL,GAASA,CAAT;AACA,iBAAKC,CAAL,GAASA,CAAT;AACH;;;mCAEUD,GAAGC,GAAG;AACb,iBAAKC,MAAL,GAAcF,CAAd;AACA,iBAAKG,MAAL,GAAcF,CAAd;AACH;;;kCAESJ,QAAQ;AACd,iBAAKA,MAAL,GAAcA,MAAd;AACH;;AAED;;;;sCACce,KAAK;AACf,gBAAIC,SAASC,GAAGC,EAAH,CAAM,KAAKf,CAAX,EAAc,KAAKC,CAAnB,CAAb;AACA,iBAAKG,GAAL,CAASY,IAAT,CAAc;AACVC,wBAAQ,QADE;AAEVC,0BAAUC,oBAAQC,UAFR;AAGVC,0BAAU,CAHA;AAIVT,qBAAKA;AAJK,aAAd;AAMA,iBAAKR,GAAL,CAASY,IAAT,CAAc;AACVC,wBAAQ,QADE;AAEVC,0BAAUC,oBAAQC,UAFR;AAGVC,0BAAUF,oBAAQC,UAHR;AAIVR,qBAAKC;AAJK,aAAd;AAMH;;AAED;;;;+BACOD,KAAKS,UAAU;AAClB,iBAAKjB,GAAL,CAASY,IAAT,CAAc;AACVC,wBAAQ,QADE;AAEVC,0BAAUC,oBAAQC,UAFR;AAGVC,0BAAUA,QAHA;AAIVT,qBAAKA;AAJK,aAAd;AAMA,iBAAKZ,CAAL,GAASY,IAAIZ,CAAb;AACA,iBAAKC,CAAL,GAASW,IAAIX,CAAb;AACH;;;8BAEKoB,UAAU;AACZ,iBAAKjB,GAAL,CAASY,IAAT,CAAc;AACVC,wBAAQ,OADE;AAEVI,0BAAUA,QAFA;AAGVH,0BAAUC,oBAAQG;AAHR,aAAd;AAKA,iBAAKjB,OAAL,GAAe,IAAf;AACH;;;gCAEOgB,UAAU;AACd,iBAAKjB,GAAL,CAASY,IAAT,CAAc;AACVC,wBAAQ,SADE;AAEVI,0BAAUA,QAFA;AAGVH,0BAAUC,oBAAQI;AAHR,aAAd;AAKH;;;mCAEUF,UAAUG,WAAW;AAC5B,iBAAKpB,GAAL,CAASY,IAAT,CAAc;AACVC,wBAAQ,YADE;AAEVI,0BAAUA,QAFA;AAGVH,0BAAU,CAHA;AAIVM,2BAAWA;AAJD,aAAd;AAMH;;;qCAEYZ,KAAK,CAEjB;;;iCAEQ;AACL,mBAAO,KAAKhB,IAAL,IAAac,sBAAUe,CAA9B;AACH;;;;;;kBAnGgB9B","file":"CellModel.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\Model","sourcesContent":["import { CELL_TYPE, ANITIME, CELL_STATUS, GRID_HEIGHT } from \"./ConstValue\";\r\nexport default class CellModel {\r\n    constructor() {\r\n        this.type = null;\r\n        this.status = CELL_STATUS.COMMON;\r\n        this.x = 1;\r\n        this.y = 1;\r\n        this.startX = 1;\r\n        this.startY = 1;\r\n        this.cmd = [];\r\n        this.isDeath = false;\r\n        this.objecCount = Math.floor(Math.random() * 1000);\r\n    }\r\n\r\n    init(type) {\r\n        this.type = type;\r\n    }\r\n\r\n    isEmpty() {\r\n        return this.type == CELL_TYPE.EMPTY;\r\n    }\r\n\r\n    setEmpty() {\r\n        this.type = CELL_TYPE.EMPTY;\r\n    }\r\n    setXY(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    setStartXY(x, y) {\r\n        this.startX = x;\r\n        this.startY = y;\r\n    }\r\n\r\n    setStatus(status) {\r\n        this.status = status;\r\n    }\r\n\r\n    // 无效交换位置时，先移动到鼠标拖动的位置，再移回原位置\r\n    moveToAndBack(pos) {\r\n        var srcPos = cc.v2(this.x, this.y);\r\n        this.cmd.push({\r\n            action: \"moveTo\",\r\n            keepTime: ANITIME.TOUCH_MOVE,\r\n            playTime: 0,\r\n            pos: pos\r\n        });\r\n        this.cmd.push({\r\n            action: \"moveTo\",\r\n            keepTime: ANITIME.TOUCH_MOVE,\r\n            playTime: ANITIME.TOUCH_MOVE,\r\n            pos: srcPos\r\n        });\r\n    }\r\n\r\n    // 成功移动时，移动到某一个位置\r\n    moveTo(pos, playTime) {\r\n        this.cmd.push({\r\n            action: \"moveTo\",\r\n            keepTime: ANITIME.TOUCH_MOVE,\r\n            playTime: playTime,\r\n            pos: pos\r\n        });\r\n        this.x = pos.x;\r\n        this.y = pos.y;\r\n    }\r\n\r\n    toDie(playTime) {\r\n        this.cmd.push({\r\n            action: \"toDie\",\r\n            playTime: playTime,\r\n            keepTime: ANITIME.DIE\r\n        });\r\n        this.isDeath = true;\r\n    }\r\n\r\n    toShake(playTime) {\r\n        this.cmd.push({\r\n            action: \"toShake\",\r\n            playTime: playTime,\r\n            keepTime: ANITIME.DIE_SHAKE\r\n        });\r\n    }\r\n\r\n    setVisible(playTime, isVisible) {\r\n        this.cmd.push({\r\n            action: \"setVisible\",\r\n            playTime: playTime,\r\n            keepTime: 0,\r\n            isVisible: isVisible\r\n        });\r\n    }\r\n\r\n    moveToAndDie(pos) {\r\n\r\n    }\r\n\r\n    isBird() {\r\n        return this.type == CELL_TYPE.G;\r\n    }\r\n\r\n}\r\n"]}